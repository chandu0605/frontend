<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>GitHub User Info</title>

  <!-- Bootstrap 5 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />

  <style>
    body {
      background-color: #f4f6f8;
      font-family: 'Segoe UI', sans-serif;
    }

    #showId {
      margin-top: 30px;
      display: flex;
      justify-content: center;
    }

    .card-box {
      background-color: white;
      border-radius: 12px;
      box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
      padding: 30px;
      max-width: 500px;
      width: 100%;
    }

    .card-box img {
      border-radius: 50%;
      margin-bottom: 20px;
      width: 120px;
      height: 120px;
      object-fit: cover;
      border: 3px solid #dee2e6;
    }

    .card-box ul {
      list-style-type: none;
      padding-left: 0;
    }

    .card-box li {
      padding: 8px 0;
      border-bottom: 1px solid #e9ecef;
      font-size: 1rem;
    }

    .card-box li:last-child {
      border-bottom: none;
    }

    h1 {
      margin-top: 30px;
      text-align: center;
    }

    @media (max-width: 576px) {
      .card-box {
        padding: 20px;
      }

      .card-box img {
        width: 100px;
        height: 100px;
      }

      h1 {
        font-size: 1.5rem;
      }
    }
  </style>
</head>
<body>

  <h1>GitHub User Lookup</h1>
  <div class="text-center">
    <input type="text" id="inputId" class="form-control w-50 mx-auto my-3" placeholder="Enter GitHub Username">
    <button id="buttonId" class="btn btn-primary" onclick="userData()">Search</button>
  </div>
  <div id="showId"></div>

  <script>
    async function userData() {
      try {
        let username = document.getElementById("inputId").value;
        let displayEle = document.getElementById("showId");
        displayEle.innerHTML = "";

        let url = `https://api.github.com/users/${username}`;
        let res = await fetch(url, {
          headers: {
            'Authorization': `your_github_token_here`, 
            'Accept': 'application/vnd.github.v3+json',
            'User-Agent': 'gitProfile'
          }
        });

        let userdata = await res.json();
        console.log(userdata);

        let cardWrapper = document.createElement("div");
        cardWrapper.className = "card-box text-center";

        // Avatar
        let imageEle = document.createElement("img");
        imageEle.src = userdata.avatar_url;
        imageEle.alt = "User Avatar";

        // List of info
        let ulEle = document.createElement("ul");

        let nameLi = document.createElement("li");
        nameLi.textContent = `Name: ${userdata.name || "Not available"}`;
        ulEle.appendChild(nameLi);

        //Login Id
        let loginLi = document.createElement("li");
        loginLi.textContent = `Username: ${userdata.login}`;
        ulEle.appendChild(loginLi);

        //Bio

        let bioLi = document.createElement("li");
        bioLi.textContent=`Bio: ${userdata.bio}`;
        ulEle.appendChild(bioLi);


        // Account create date
        let dateLi = document.createElement("li");
        const createdDate = new Date(userdata.created_at).toLocaleDateString();
        dateLi.textContent = `Account Created: ${createdDate}`;
        ulEle.appendChild(dateLi);


        // Resporitries
        let reposLi = document.createElement("li");
        reposLi.textContent = `Public Repos: ${userdata.public_repos}`;
        ulEle.appendChild(reposLi);


        //User Id
        let idLi = document.createElement("li");
        idLi.textContent = `User ID: ${userdata.id}`;
        ulEle.appendChild(idLi);


        // Last Update
        let updateLi = document.createElement("li");
        const updateDate = new Date(userdata.updated_at).toLocaleDateString(); 
        updateLi.textContent = `Last Update: ${updateDate}`;
        ulEle.appendChild(updateLi); 


       // Email Id
        let emailLi = document.createElement("li");
        emailLi.textContent = `Email Id: ${userdata.email}`;
        ulEle.appendChild(emailLi);

        cardWrapper.appendChild(imageEle);
        cardWrapper.appendChild(ulEle);
        displayEle.appendChild(cardWrapper);

      } catch (error) {
        console.log(error);
      }
    }
  </script>

</body>
</html>
